package com.opendental.odweb.client.remoting;

import com.opendental.odweb.client.tabletypes.Account;
// TODO Cameron, there should be one of these for every table type and also in GetSerializedObject().  Everything else should be static.  Don't forget to change the crud when generating the table type classes so that they point to this new Serializing class instead of the old one.
//import com.opendental.odweb.client.tabletypes.Patient;

/** Do not make changes to this file.  This class is automatically generated by the CRUD, any changes made will be overwritten. */
public class Serializing {
	
	/** Escapes common characters used in XML. */
	public static String EscapeForXml(String myString) {
		StringBuilder strBuild=new StringBuilder();
		int length=myString.length();
		for(int i=0;i<length;i++) {
			String character=myString.substring(i,i+1);
			if(character.equals("<")) { 
				strBuild.append("&lt;"); 
				continue;
			}
			else if(character.equals(">")) { 
				strBuild.append("&gt;"); 
				continue; 
			}
			else if(character.equals("\"")) { 
				strBuild.append("&quot;"); 
				continue; 
			}
			else if(character.equals("\'")) { 
				strBuild.append("&#039;"); 
				continue;
			}
			else if(character.equals("&")) { 
				strBuild.append("&amp;"); 
				continue; 
			}
			strBuild.append(character);
		}
    return strBuild.toString();
	}

	/** Loops through all the known objects and calls the corresponding classes serialize method.  Returns null if no matches.  
	 * @param qualifiedName Pass in the fully qualified name of the object. Ex: com.opendental.odweb.client.tabletypes.Account 
	 * @param obj Pass in the actual object so that it's SerializeToXml method can be called. */
	public static String GetSerializedObject(String qualifiedName,Object obj) {
		if(qualifiedName=="com.opendental.odweb.client.tabletypes.Account") {
			return ((Account)obj).SerializeToXml();
		}
// TODO Cameron, there should be one of these for every table type.
//		if(qualifiedName=="com.opendental.odweb.client.tabletypes.Patient") {
//			return ((Patient)obj).SerializeToXml();
//		}
		return null;
	}
	
}
